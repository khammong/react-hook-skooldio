{"ast":null,"code":"var _jsxFileName = \"/Users/lalida/Project/Learning/skooldio-react-hooks-ecommerce/src/contexts/cart.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    const cartItemsString = window.localStorage.getItem('cartItems');\n    const cart = cartItemsString ? JSON.parse(cartItemsString) : [];\n    setCartItems(cart);\n  }, []);\n\n  const addCartItem = (product, quantity) => {\n    const matchingCartItem = cartItems.find(cartItem => cartItem.product.id === product.id);\n\n    if (matchingCartItem) {\n      matchingCartItem.quantity += quantity;\n    } else {\n      cartItems.push({\n        product,\n        quantity\n      });\n    }\n\n    setCartItems([...cartItems]);\n    window.localStorage.setItem('cartItems', JSON.stringify(cartItems));\n  };\n\n  const removeCartItem = productId => {\n    const newCartItems = cartItems.filter(cartItem => cartItem.product.id !== productId);\n    setCartItems(newCartItems);\n    window.localStorage.setItem('cartItems', JSON.stringify(newCartItems));\n  };\n\n  const updateQuantity = (productId, quantity) => {\n    const matchingCartItem = cartItems.find(cartItem => cartItem.product.id === productId);\n\n    if (!matchingCartItem) {\n      return;\n    }\n\n    matchingCartItem.quantity = quantity;\n    setCartItems([...cartItems]);\n    window.localStorage.setItem('cartItems', JSON.stringify(cartItems));\n  };\n\n  const validForCheckout = cartItems.every(cartItem => cartItem.quantity % 1 === 0 && cartItem.quantity > 0);\n\n  const checkout = () => {\n    setCartItems([]);\n    window.localStorage.setItem('cartItems', JSON.stringify([]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      addCartItem,\n      removeCartItem,\n      updateQuantity,\n      validForCheckout,\n      checkout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartProvider, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n\n_c = CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/Users/lalida/Project/Learning/skooldio-react-hooks-ecommerce/src/contexts/cart.js"],"names":["createContext","useState","useEffect","CartContext","CartProvider","children","cartItems","setCartItems","cartItemsString","window","localStorage","getItem","cart","JSON","parse","addCartItem","product","quantity","matchingCartItem","find","cartItem","id","push","setItem","stringify","removeCartItem","productId","newCartItems","filter","updateQuantity","validForCheckout","every","checkout"],"mappings":"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","sourcesContent":["import { createContext, useState, useEffect } from 'react';\n\nexport const CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    const cartItemsString = window.localStorage.getItem('cartItems');\n    const cart = cartItemsString ? JSON.parse(cartItemsString) : [];\n    setCartItems(cart);\n  }, []);\n\n  const addCartItem = (product, quantity) => {\n    const matchingCartItem = cartItems.find((cartItem) => cartItem.product.id === product.id);\n    if (matchingCartItem) {\n      matchingCartItem.quantity += quantity;\n    } else {\n      cartItems.push({ product, quantity });\n    }\n    setCartItems([...cartItems]);\n    window.localStorage.setItem('cartItems', JSON.stringify(cartItems));\n  };\n\n  const removeCartItem = (productId) => {\n    const newCartItems = cartItems.filter((cartItem) => cartItem.product.id !== productId);\n    setCartItems(newCartItems);\n    window.localStorage.setItem('cartItems', JSON.stringify(newCartItems));\n  };\n\n  const updateQuantity = (productId, quantity) => {\n    const matchingCartItem = cartItems.find((cartItem) => cartItem.product.id === productId);\n    if (!matchingCartItem) {\n      return;\n    }\n    matchingCartItem.quantity = quantity;\n    setCartItems([...cartItems]);\n    window.localStorage.setItem('cartItems', JSON.stringify(cartItems));\n  };\n  const validForCheckout = cartItems.every(\n    (cartItem) => cartItem.quantity % 1 === 0 && cartItem.quantity > 0\n  );\n  const checkout = () => {\n    setCartItems([]);\n    window.localStorage.setItem('cartItems', JSON.stringify([]));\n  };\n  return (\n    <CartContext.Provider\n      value={{ cartItems, addCartItem, removeCartItem, updateQuantity, validForCheckout, checkout }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}